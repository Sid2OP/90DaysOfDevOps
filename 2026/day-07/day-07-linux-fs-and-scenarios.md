# Day 07 – Linux File System Hierarchy & Scenario-Based Practice

---

## Part 1: Linux File System Hierarchy

### Core Directories (Must Know)

### `/` (root)

- The top-level directory of the Linux file system. Everything starts here.
- All files and directories are mounted under this directory.

**Example (ls -l /):** bin, boot, dev, etc, home, var

**I would use this when:** I need to understand the overall structure of the system or locate major system directories.

---

### `/home`

- Contains home directories for normal users.
- Each user gets their own workspace for files and configurations.

**Example (ls -l /home):** user, ubuntu

**I would use this when:** I need to check user files, scripts, or permissions issues for a specific user.

---

### `/root`

- Home directory for the root (admin) user.
- Separate from `/home` for security reasons.

**Example (ls -l /root):** .bashrc, .ssh

**I would use this when:** I am logged in as root and need access to admin-specific files.

---

### `/etc`

- Stores system-wide configuration files.
- Almost all services read configuration from here.

**Example (ls -l /etc):** hostname, hosts, ssh

**I would use this when:** I need to configure or troubleshoot a service.

---

### `/var/log`

- Contains log files generated by the system and services.
- Critical for monitoring and troubleshooting.

**Example (ls -l /var/log):** auth.log, syslog, journal

**I would use this when:** I am debugging service failures or investigating security issues.

---

### `/tmp`

- Stores temporary files created by applications.
- Files may be deleted automatically on reboot.

**Example (ls -l /tmp):** temp files, sockets

**I would use this when:** An application needs short-lived temporary storage.

---

### Additional Directories (Good to Know)

### `/bin`

- Essential command binaries needed for system boot and recovery.

**Example (ls -l /bin):** ls, cp, mv

**I would use this when:** Running basic system commands, especially in recovery mode.

---

### `/usr/bin`

- Contains most user-level command binaries.
- Not required for early boot.

**Example (ls -l /usr/bin):** python3, git, docker

**I would use this when:** Running standard user applications.

---

### `/opt`

- Optional or third-party software installations.
- Keeps custom apps separate from system files.

**Example (ls -l /opt):** google, custom-app

**I would use this when:** Installing or managing third-party software.

---

### Hands-on Observations

```bash
# Find the largest log files
du -sh /var/log/* 2>/dev/null | sort -h | tail -5

```

- Helps identify logs consuming the most disk space.

```bash
# View system hostname
cat /etc/hostname

```

- Confirms system identity.

```bash
# List home directory files
ls -la ~

```

- Shows permissions and hidden files.

---

## Part 2: Scenario-Based Practice

### Scenario 1: Service Not Starting

**Problem:** `myapp` service failed after reboot.

**Step 1:**

```bash
systemctl status myapp

```

**Why:** Checks whether the service is running, stopped, or failed.

**Step 2:**

```bash
journalctl -u myapp -n 50

```

**Why:** Views recent logs to identify errors.

**Step 3:**

```bash
systemctl is-enabled myapp

```

**Why:** Confirms if the service starts automatically on boot.

**Step 4:**

```bash
systemctl list-unit-files | grep myapp

```

**Why:** Verifies that the service unit exists.

**What I learned:** Always check status → logs → boot configuration.

---

### Scenario 2: High CPU Usage

**Problem:** Server performance is slow.

**Step 1:**

```bash
top

```

**Why:** Shows live CPU usage and top-consuming processes.

**Step 2:**

```bash
ps aux --sort=-%cpu | head -10

```

**Why:** Lists processes sorted by CPU usage.

**Step 3:**

```bash
htop

```

**Why:** Easier interactive view if installed.

**What I learned:** Identify the PID and investigate the process before killing it.

---

### Scenario 3: Finding Service Logs

**Problem:** Developer asks for Docker logs.

**Step 1:**

```bash
systemctl status docker

```

**Why:** Confirms service name and state.

**Step 2:**

```bash
journalctl -u docker -n 50

```

**Why:** Views recent logs from systemd journal.

**Step 3:**

```bash
journalctl -u docker -f

```

**Why:** Follows logs in real time.

**What I learned:** systemd services log to journald by default.

---

### Scenario 4: File Permissions Issue

**Problem:** Script is not executable.

**Step 1:**

```bash
ls -l /home/user/backup.sh

```

**Why:** Checks current permissions.

**Step 2:**

```bash
chmod +x /home/user/backup.sh

```

**Why:** Adds execute permission.

**Step 3:**

```bash
ls -l /home/user/backup.sh

```

**Why:** Verifies permission change.

**Step 4:**

```bash
./backup.sh

```

**Why:** Confirms the script runs successfully.

**What I learned:** Files must have execute permission to run.
